# 时间锁定助手 (Time Lock Assistant)

## 📝 功能介绍

这是一个用于自动管理电脑使用时间的工具，主要功能包括：

### 1. 预设时间段自动锁定
- 上午 11:00 - 13:00
- 下午 17:00 - 19:00
- 晚上 21:00 - 次日 07:00

### 2. 时间同步检测
- 自动与网络时间服务器同步
- 检测系统时间是否被人为修改
- 当本地时间与网络时间差异超过5分钟时发出警告

### 3. 智能提醒
- 进入锁定时间前会提供1分钟倒计时提醒
- 时间异常时提供5分钟倒计时警告
- 自动显示友好的提示信息

## 💻 使用说明

### 方法一：直接运行发布版本（推荐）

1. 从 [Releases](这里放你的release链接) 页面下载最新的 `TimeLockAssistant.exe`
2. 双击运行即可

### 方法二：从源码运行

1. 安装 Python 3.8 或更高版本
2. 安装依赖：
```bash
pip install ntplib
```
3. 运行脚本：
```bash
python time_lock_assistant.py
```

## 🚀 开机自启设置

### Windows 10/11 设置开机自启

1. 按 `Win + R` 打开运行对话框
2. 输入 `shell:startup` 并回车
3. 将程序快捷方式复制到打开的文件夹中

或者：

1. 按 `Win + R` 打开运行对话框
2. 输入 `taskschd.msc` 打开任务计划程序
3. 点击右侧的"创建基本任务"
4. 按照向导设置：
   - 名称：TimeLockAssistant
   - 触发器：系统启动时
   - 操作：启动程序
   - 程序路径：选择 TimeLockAssistant.exe 的完整路径

## 🔨 开发者注

### 打包说明

如果你想自己打包程序，可以使用 PyInstaller：

1. 安装 PyInstaller：
```bash
pip install pyinstaller
```

2. 打包命令：
```bash
pyinstaller --onefile --noconsole --icon=app.ico time_lock_assistant.py
```

参数说明：
- `--onefile`: 打包成单个可执行文件
- `--noconsole`: 运行时不显示控制台窗口
- `--icon=app.ico`: 设置程序图标（可选）

### 源码修改

如果需要修改锁定时间：
1. 打开源码文件
2. 找到 `self.lock_times` 变量
3. 修改时间段列表，格式为 `("HH:MM", "HH:MM")`

## ⚠️ 注意事项

1. 程序需要管理员权限才能正常运行
2. 确保电脑能够访问网络时间服务器
3. 程序运行时会在同目录下生成日志文件 `timechecker.log`
4. 不要尝试通过修改系统时间来绕过限制，这会触发时间同步检测

## 🔍 日志查看

程序运行时会自动生成日志文件 `timechecker.log`，记录：
- 程序启动和关闭时间
- 时间检查记录
- 锁定事件
- 错误信息

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个项目。

## 📄 许可证

没有，随便用

## 🆘 常见问题

1. Q: 为什么程序无法运行？
   A: 请确保以管理员身份运行程序

2. Q: 如何临时禁用程序？
   A: 可以在任务管理器中结束程序进程

3. Q: 日志文件占用空间过大怎么办？
   A: 可以定期删除日志文件，程序会自动创建新的日志文件

4. Q: 想修改锁定时间怎么办？
   A: 目前需要修改源码重新编译，后续版本会添加配置文件功能